# Klaviyo VSCode Extension

## Features

This VSCode Extension can: 

- Autocomplete Klaviyo [template tags](https://developers.klaviyo.com/en/docs/django_message_design#terminology--variables-tags-and-filters) and [template filters](https://developers.klaviyo.com/en/docs/glossary_of_variable_filters) with intellisense.
- Autocomplete and highlight common Django template characters, e.g. `{{ }}` and `{% %}`

## Install and Run the Extension
1. Download the VSCode extension file ending in `.vsix` from this repository's [releases](https://github.com/klaviyo/headless-klaviyo/releases).
2. Open VS Code. In the "Extensions" menu, click "...", then select "Install from VSIX..." and choose the .vsix file.
3. If you would like additional syntax highlighting for django syntax, install the [Django extension by Baptiste Darthenay](https://marketplace.visualstudio.com/items?itemName=batisteo.vscode-django) as well.

## Usage
While the extension is running locally you may do a few things:
- Typed Django delimiters will be autocompleted, such as `{{`. These characters will then be prompted to auto-close themselves with the result being `{{}}`. 
- Typing Django template filters or tags will allow you to read about the filter or tag and select them using your arrow keys and `Enter` to select the one you want. For example, if you start typing `|base64`, you will get two Klaviyo-specific filters as options: `base64_encode` or `base64_decode`. You may select one of those options and the VSCode extension will autocomplete the snippet for you with the proper syntax e.g. `{{ "abcd"|base64_encode }}`

These features are available when editing `html`, `django-html`, and `json` files.

## Development
To build the extension, follow the instructions below:
1. In your terminal, clone the Headless Klaviyo repository, and then `cd` to the vscode subfolder.
2. Install vsce:
    ```bash
    npm install -g @vscode/vsce
    ```
3. Use vsce to package the extension:
    ```bash
    vsce package
    ```
4. Open VS Code. In the "Extensions" menu, click "...", then select "Install from VSIX..." and choose the .vsix file generated by `vsce`.

## Contributions
Contributions are welcome! See the [Headless Klaviyo readme](https://github.com/klaviyo/headless-klaviyo?tab=readme-ov-file#contributing) for more information on how to contribute.